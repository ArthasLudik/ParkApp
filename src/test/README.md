# Тесты для Parking System API

## Описание

Этот пакет содержит MockMvc тесты для всех контроллеров приложения Parking System.

## Структура тестов

### 1. UserControllerTest
- Тестирует CRUD операции для пользователей
- Проверяет валидацию входных данных
- Использует только MockMvc без моков

### 2. ParkingSpotControllerTest
- Тестирует CRUD операции для парковочных мест
- Проверяет поиск свободных мест
- Использует только MockMvc без моков

### 3. ParkingSessionControllerTest
- Тестирует создание и управление парковочными сессиями
- Проверяет завершение сессий
- Использует только MockMvc без моков

### 4. VehicleControllerTest
- Тестирует создание и удаление транспортных средств
- Использует только MockMvc без моков

### 5. ControllerIntegrationTest
- Интеграционный тест для проверки загрузки контекста Spring
- Использует H2 in-memory базу данных для тестов

## Запуск тестов

### Запуск всех тестов
```bash
./mvnw test
```

### Запуск конкретного теста
```bash
./mvnw test -Dtest=UserControllerTest
```

### Запуск тестов с подробным выводом
```bash
./mvnw test -Dtest=*ControllerTest -Dspring.profiles.active=test
```

## Конфигурация тестов

Тесты используют профиль `test` с H2 in-memory базой данных:
- `application-test.yaml` - конфигурация для тестов
- Flyway отключен для тестов
- Hibernate создает схему автоматически

## Требования

- Java 17+
- Maven 3.6+
- Spring Boot 3.x
- JUnit 5
- H2 Database (для тестов)

## Примечания

- Все тесты используют `@WebMvcTest` для изоляции контроллеров
- Тесты используют только MockMvc без моков сервисов
- Валидация тестируется с помощью MockMvc
- JSON ответы проверяются с помощью `jsonPath`
- Тесты проверяют реальное поведение контроллеров
